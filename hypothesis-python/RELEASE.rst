RELEASE_TYPE: patch

This change improves the core engine's ability to avoid unnecessary work,
by consulting its cache of previously-tried inputs in more cases.
